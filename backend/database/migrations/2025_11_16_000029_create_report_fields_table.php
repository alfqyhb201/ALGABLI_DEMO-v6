<?php use Illuminate\Database\Migrations\Migration; use Illuminate\Database\Schema\Blueprint; use Illuminate\Support\Facades\Schema; class CreateReportFieldsTable extends Migration { public function up() { Schema::create('report_fields', function (Blueprint $table) { $table->increments('id'); $table->unsignedInteger('report_type_id'); $table->string('field_name'); $table->json('field_label')->nullable(); $table->enum('data_type', ['number','string','date','percentage'])->default('string'); $table->enum('aggregation', ['sum','avg','count','none'])->default('none'); $table->boolean('is_visible')->default(true); $table->json('meta')->nullable(); $table->timestamps(); $table->foreign('report_type_id')->references('id')->on('report_types')->onDelete('cascade'); }); } public function down() { Schema::dropIfExists('report_fields'); } }
