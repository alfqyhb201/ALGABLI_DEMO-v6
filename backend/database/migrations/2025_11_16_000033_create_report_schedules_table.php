<?php use Illuminate\Database\Migrations\Migration; use Illuminate\Database\Schema\Blueprint; use Illuminate\Support\Facades\Schema; class CreateReportSchedulesTable extends Migration { public function up() { Schema::create('report_schedules', function (Blueprint $table) { $table->char('id',36)->primary(); $table->char('report_id',36); $table->json('schedule_rule')->nullable(); $table->json('recipients')->nullable(); $table->timestamp('next_run_at')->nullable(); $table->timestamp('last_run_at')->nullable(); $table->boolean('is_active')->default(true); $table->json('options')->nullable(); $table->timestamps(); $table->foreign('report_id')->references('id')->on('reports')->onDelete('cascade'); }); } public function down() { Schema::dropIfExists('report_schedules'); } }
